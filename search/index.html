<!doctype html>
<html>

<head>
	<meta charset="utf-8">
	<title>Expression for Autism</title>

	<!-- JQuery -->
	<script src="js/jquery-1.11.1.min.js"></script>

	<!-- BootStrap (chromefix)-->
	<link href="//maxcdn.bootstrapcdn.com/bootstrap/3.3.1/css/bootstrap.min.css" rel="stylesheet">

	<!-- Fonts (chromefix)-->
 	<link href='//fonts.googleapis.com/css?family=Open+Sans:300,400,700' rel='stylesheet' type='text/css'>

	<!-- PLUGINS: -->
	<!-- Price Slider -->
	<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
	
    <link rel="stylesheet" href="Plugins/PriceSlider/css/normalize.css" />
    <link rel="stylesheet" href="Plugins/PriceSlider/css/ion.rangeSlider.css" />
    <link rel="stylesheet" href="Plugins/PriceSlider/css/ion.rangeSlider.skinFlat.css" />
    <script src="Plugins/PriceSlider/js/ion.rangeSlider.js"></script>

    <!-- Scroll -->
    <script type="text/javascript" src="Plugins/OnepageScroll/jquery.onepage-scroll.js"></script>
	<link href='Plugins/OnepageScroll/onepage-scroll.css' rel='stylesheet' type='text/css'>

	<!-- Table Plugin -->
	<link rel="stylesheet" type="text/css" href="Plugins/DataTables/media/css/jquery.dataTables.css">
	<script type="text/javascript" charset="utf8" src="Plugins/DataTables/media/js/jquery.dataTables.js"></script>

	<!-- Loading Dots 
	<script src = "Plugins/LoadingDots/dot.js"></script>
	-->


	<!-- STYLE -->
	<meta name="viewport" content="initial-scale=1, width=device-width, maximum-scale=1, minimum-scale=1, user-scalable=no">

	<link href = 'http://maxcdn.bootstrapcdn.com/bootstrap/3.3.0/css/bootstrap.min.css' rel = 'stylesheet'>
	<link href='http://fonts.googleapis.com/css?family=Open+Sans:300,400,700' rel='stylesheet' type='text/css'>

	<link href='app.css' rel='stylesheet' type='text/css'>
	


	<script>
		$(document).ready(function(){
			// INITIALIZATION
			$(".main").onepage_scroll({
				sectionContainer: "section",
				responsiveFallback: 600,
				loop: false
			});

			$("#range").ionRangeSlider({
		        hide_min_max: true,
		        keyboard: true,
		        min: 0,
		        max: 300.00,
		        type: 'double',
		        step: 1,
		        prefix: "$",
		        grid: true,
		        onFinish: function (data) {
		    		minPrice = data.from;
		    		maxPrice = data.to;
				}
		    });
		});
	</script>

</head>
<body>
	<div class="wrapper">
		<!-- <div class = "navbar navbar-default navbar-static-top">
			<div class = "container">

				<a href = "#" class = "navbar-brand">Expression for Autism</a>

				<button class = "navbar-toggle" data-toggle = "collapse" data-target = ".navHeaderCollapse">
					<span class = "icon-bar"></span>
					<span class = "icon-bar"></span>
					<span class = "icon-bar"></span>
				</button>

				<div class = "collapse navbar-collapse navHeaderCollapse">
					<ul class = "nav navbar-nav navbar-right">
						<li class = "active"><a href = "#">Home</a></li>
						<li><a href = "#">Blog</a></li>
						<li class = "dropdown">
							<a href = "#" class = "dropdown-toggle" data-toggle = "dropdown">Social Media <b class = "caret"></b></a>
							<ul class = "dropdown-menu">
								<li><a href = "#">Twitter</a></li>
								<li><a href = "#">Facebook</a></li>
								<li><a href = "#">Reddit</a></li>
								<li><a href = "#">Google+</a></li>
								<li><a href = "#">Instagram</a></li>
							</ul>
						</li>
						<li><a href = "#">About</a></li>
						<li><a href = "#">Contact Us</a></li>
					</ul>
				</div>
			</div>
		</div> -->
		<div class="main">

			<section class="home">

					<div class = "imagediv1">
					</div>
					<div class = "imagediv2">
					</div>
					<div class = "imagediv3">
					</div>
					<!-- <h1>Expression for Autism</h1>
					<h2>Find the best Autism application for you</h2> -->
					<!-- <img class = "home" src = img/efahome.png> -->
					<div class = "titlediv">
						<img class = "title" src = img/title.png>
						<div class = "homebutton">

							<button type="button" name="begin" >BEGIN</button>
						</div>
					</div>
					
				
			</section>

			<section class="categories">
				<h4>Search based on Skill</h4>
				<div class = "container">

					<form>

						<div class = "row"> 

							<div class="imageToggle col-xs-4 col-sm-2" onclick="toggleImage(this);">
								<input class="imageCheckbox" type="checkbox" id="windph" name="Func" highlight = "categories"/>
								<img class="toggleImage" id = "windph" src="img/funct.png" />
							</div>



							<div class="imageToggle col-xs-4 col-sm-2" onclick="toggleImage(this);">
								<input class="imageCheckbox" type="checkbox" id="wind8" name="Rec" highlight = "categories"/>
								<img class="toggleImage" id = "wind8" src="img/rec.png" />
							</div>



							<div class="imageToggle col-xs-4 col-sm-2" onclick="toggleImage(this);">
								<input class="imageCheckbox" type="checkbox" id="android" name="Edu" highlight = "categories"/>
								<img class="toggleImage" id = "android" src="img/edu.png" />
							</div>

							<div class="imageToggle col-xs-4 col-sm-2" onclick="toggleImage(this);">
								<input class="imageCheckbox" type="checkbox" id="android" name="Creative" highlight = "categories"/>
								<img class="toggleImage" id = "android" src="img/crea.png" />
							</div>

							<div class="imageToggle col-xs-4 col-sm-2" onclick="toggleImage(this);">
								<input class="imageCheckbox" type="checkbox" id="android" name="Lang" highlight = "categories"/>
								<img class="toggleImage" id = "android" src="img/lang.png" />
							</div>

							<div class="imageToggle col-xs-4 col-sm-2" onclick="toggleImage(this);">
								<input class="imageCheckbox" type="checkbox" id="all" name="Organizer" highlight = "categories"/>
								<img class="toggleImage" id = "android" src="img/org.png" />
							</div>


						</div> 
						<div class = "row"> 

							<div class="imageToggle col-xs-4 col-sm-2" onclick="toggleImage(this);">
								<input class="imageCheckbox" type="checkbox" id="windph" name="Social" highlight = "categories"/>
								<img class="toggleImage" id = "windph" src="img/soc.png" />
							</div>



							<div class="imageToggle col-xs-4 col-sm-2" onclick="toggleImage(this);">
								<input class="imageCheckbox" type="checkbox" id="wind8" name="Comm" highlight = "categories"/>
								<img class="toggleImage" id = "wind8" src="img/comm.png" />
							</div>



							
							<div class="imageToggle col-xs-4 col-sm-2" onclick="toggleImage(this);">
								<input class="imageCheckbox" type="checkbox" id="android" name="Behavioral" highlight = "categories"/>
								<img class="toggleImage" id = "android" src="img/beh.png" />
							</div>

							<div class="imageToggle col-xs-4 col-sm-2" onclick="toggleImage(this);">
								<input class="imageCheckbox" type="checkbox" id="android" name="Math" highlight = "categories"/>
								<img class="toggleImage" id = "android" src="img/math.png" />
							</div>

							<div class="imageToggle col-xs-4 col-sm-2" onclick="toggleImage(this);">
								<input class="imageCheckbox" type="checkbox" id="android" name="Access" highlight = "categories"/>
								<img class="toggleImage" id = "android" src="img/acc.png" />
							</div>

							<div class="imageToggle col-xs-4 col-sm-2" onclick="toggleImage(this);">
								<input class="imageCheckbox" type="checkbox" id="all" name="All" highlight = "categories"/>
								<img class="toggleImage" id = "android" src="img/all.png" />
							</div>


						</div> 

					</form>

				</div>
				<img class="arrow" id = "arrow" src="img/down_arrow.png"/>    
			</section>
	        <section class = "age">
		        <img class="up-arrow" id = "up-arrow1" src="img/down_arrow.png"/>
		        
		        <div class = "age_container">
		        	<h1>Search based on Age</h1>
			        <img class="age-background" id = "background" src="img/age_background.png" highlight = "age"/>
			        

			        <form>
				        <div class="ageCheck" onclick="toggleImage(this);">
				        <input class="imageCheckbox" type="checkbox" id="ipad" name="Pre" highlight = "age"/>
				        <img class="toggleImage select" id = "preschool" src="img/preschool.png" sel = "false" onmouseover="showSelected(this)" onmouseout="hideSelected(this)"/>
				        </div>
				        
				        <div class="ageCheck" onclick="toggleImage(this);">
				        <input class="imageCheckbox" type="checkbox" id="itouch" name="Child" highlight = "age"/>
				        <img class="toggleImage select" id = "children" src="img/children.png" sel = "false" onmouseover="showSelected(this)" onmouseout="hideSelected(this)"/>
				        </div>

				        <div class="ageCheck" onclick="toggleImage(this);">
				        <input class="imageCheckbox" type="checkbox" id="iphone" name="Teen" highlight = "age"/>
				        <img class="toggleImage select" id = "adolescents" src="img/adolescents.png" sel = "false" onmouseover="showSelected(this)" onmouseout="hideSelected(this)"/>
				        </div>
				       
				        <div class="ageCheck" onclick="toggleImage(this);">
				        <input class="imageCheckbox" type="checkbox" id="windph" name="Adults" highlight = "age"/>
				        <img class="toggleImage select" id = "adults" src="img/adults.png" sel = "false" onmouseover="showSelected(this)" onmouseout="hideSelected(this)"/>
				        </div>

				        <img class = "ages" src = "img/ages.png">
			        </form>

			        
		        </div>
		        <img class="arrow" id = "arrow" src="img/down_arrow.png"/>


	        </section>



	        <section class="devices">
				<img class="up-arrow" id = "up-arrow1" src="img/down_arrow.png"/>

				<h3>Search based on Platform</h3>
				<div class = "devices_container">

					<form>
						<div class="imageToggle col-xs-4 col-sm-2" onclick="toggleImage(this);">
							<input class="imageCheckbox" highlight = "devices" type="checkbox" id="ipad" name="iPad"/>
							<img class="toggleImage" id = "ipad" src="img/ipad.png" />
						</div>

						<div class="imageToggle col-xs-4 col-sm-2" onclick="toggleImage(this);">
							<input class="imageCheckbox" highlight = "devices" type="checkbox" id="itouch" name="iPhTo" />
							<img class="toggleImage" id = "itouch" src="img/itouch.png" />
						</div>

						<div class="imageToggle col-xs-4 col-sm-2" onclick="toggleImage(this);">
							<input class="imageCheckbox" highlight = "devices" type="checkbox" id="iphone" name="iPhTo" />
							<img class="toggleImage" id = "iphone" src="img/iphone.png" />
						</div>

						<div class="imageToggle col-xs-4 col-sm-2" onclick="toggleImage(this);">
							<input class="imageCheckbox" highlight = "devices" type="checkbox" id="windph" name="WPh" />
							<img class="toggleImage" id = "windph" src="img/windph.png" />
						</div>

						<div class="imageToggle col-xs-4 col-sm-2" onclick="toggleImage(this);">
							<input class="imageCheckbox" highlight = "devices" type="checkbox" id="wind8" name="W8" />
							<img class="toggleImage" id = "wind8" src="img/wind8.png" />
						</div>

						<div class="imageToggle col-xs-4 col-sm-2" onclick="toggleImage(this);">
							<input class="imageCheckbox" highlight = "devices" type="checkbox" id="android" name="Android" />
							<img class="toggleImage" id = "android" src="img/andr.png" />
						</div>

					</form>  

				</div>

				<img class="arrow" id = "arrow2" src="img/down_arrow.png"/>

				  
			</section>


	        <section class = "stars">
		        <img class="up-arrow" id = "up-arrow1" src="img/down_arrow.png"/>
		        
		        <div class = "age_container">
		        	<h1>Search based on Rating</h1>
			        <img class="age-background" id = "background" src="img/stars.png" highlight = "stars"/>
			        
			        
			        <form>
			        	<div class = "stardiv">

					        
					        <img class="star" id = "starhalf" src="img/left_star.png" sel = "false" number="0.5" onclick = "selectStar(this)" onmouseover="showStars(this)" onmouseout="hideStars(this, false)"/>
					        

					        <img class="star" id = "star1" src="img/right_star.png" sel = "false" number="1" onmouseover="showStars(this)" onmouseout="hideStars(this, false)" onclick = "selectStar(this)"/>
					        
					       
					        <img class="star" id = "star1half" src="img/left_star.png" sel = "false" number="1.5" onmouseover="showStars(this)" onmouseout="hideStars(this, false)" onclick = "selectStar(this)"/>
					        

					        <img class="star" id = "star2" src="img/right_star.png" sel = "false" number="2" onmouseover="showStars(this)" onmouseout="hideStars(this, false)" onclick = "selectStar(this)"/>
					    
					       
					        
					        <img class="star" id = "star2half" src="img/left_star.png" sel = "false" number="2.5" onmouseover="showStars(this)" onmouseout="hideStars(this, false)" onclick = "selectStar(this)"/>
					       

					       
					        <img class="star" id = "star3" src="img/right_star.png" sel = "false" number="3" onmouseover="showStars(this)" onmouseout="hideStars(this, false)" onclick = "selectStar(this)"/>
					       

					        
					        <img class="star" id = "star3half" src="img/left_star.png" sel = "false" number="3.5" onmouseover="showStars(this)" onmouseout="hideStars(this, false)" onclick = "selectStar(this)"/>
					     
					        
					   
					        <img class="star" id = "star4" src="img/right_star.png" sel = "false" number="4" onmouseover="showStars(this)" onmouseout="hideStars(this, false)" onclick = "selectStar(this)"/>
					      

					        
					        <img class="star" id = "star4half" src="img/left_star.png" sel = "false" number="4.5" onmouseover="showStars(this)" onmouseout="hideStars(this, false)" onclick = "selectStar(this)"/>
					       
					       
					       
					        <img class="star" id = "star5" src="img/right_star.png" sel = "false" number="5" onmouseover="showStars(this)" onmouseout="hideStars(this, false)" onclick = "selectStar(this)"/>
					     

				        </div>
			      	</form>

			      	
			      	
		      	</div>
		      	<img class="arrow" id = "arrow" src="img/down_arrow.png"/>
		      	
	  		</section>
	  		 <section class = "price">
	  		 	
		        <img class="up-arrow" id = "up-arrow1" src="img/down_arrow.png"/>
		        <h1>Search based on Price</h1>

		        <!-- Page contents -->
				<!-- <div style="position: relative; padding: 200px;"> -->
				<div class = "price_container">
				<div class = "slider">

				    <div>
				        <input type="text" id="range" value="" name="range" />
				    </div>

				</div>
				 <button type="button" name= "results" >get results</button>  
				</div> 
				


				<!-- <img class="arrow" id = "arrow2" src="img/down_arrow.png"/> -->

	        </section>


			
			<section class="table_section">
				<div class = "row">
				 <button class = "col-md-3" type="button" name= "back" >Back to Search</button> 
				 <h5 class = "col-md-6"> Best Applications for You</h5> 
				 <input class = "col-md-3" type="text" id="myInputTextField">

				</div> 
				<div id = "table_wrapper">
					<table id="results_table" class="display">
						<thead>
							<tr>
								<th>Name</th>
								<th>Skill</th>
								<th>Devices</th>
								<th>Age</th>
								<th>Price</th>
								<th>Rating</th>
							</tr>
						</thead>
						<tbody id ="results_body">
						</tbody>
					</table>
				</div>
			</section>
		</div>	
	</div>	
	<script>

		//Fix for custom search formatting
		$('#myInputTextField').keyup(function(){
      		$('#results_table').dataTable().fnFilter( $(this).val() );
		})

		// //removing datatables search
		// $.extend( $.fn.dataTable.defaults, {
  //  			searching: false
  //   		// ordering:  false
		// } );

		//carousel
		// $(".title").delay(600).fadeOut(600)
		startCarousel();
		
		function startCarousel () {
			
			$(".imagediv1").animate({opacity:1}, 800, function() {
				$(".imagediv3").css("opacity", "1");
				$(".imagediv2").css("opacity", "1");
			});
			$(".imagediv1").delay(2600).fadeOut(800, function (){$(".imagediv2").delay(2600).fadeOut(800, function() {resetCarousel();} );});
		}

		function resetCarousel (){
			$(".imagediv2").css("opacity", "0");
			$(".imagediv1").css("opacity", "0");

			$(".imagediv2").delay(2600).fadeIn(800, function (){$(".imagediv1").fadeIn(800, function() {  startCarousel() } );});
			
		}
		

		

		


      	// Animation and Page Movement
      	
      	animateUpArrow('.up-arrow'); 
        animateArrow('.arrow');
            
        function animateArrow(arrow) {
          $(arrow).animate({
            opacity: 1,
            top:"+=4"
          }, 550, function() {
              $(arrow).animate({opacity: 0.5, top:"-=4"}, 550);
              animateArrow(this);
            
          });
        }

        function animateUpArrow(arrow2) {
          $(arrow2).animate({
            opacity: 1,
            top:"-=4"
          }, 550, function() {
              $(arrow2).animate({opacity: 0.5, top:"+=4"}, 550);
              animateUpArrow(this);
            
           });
        }
       
      	$(".arrow").click(function(){

      		$(".main").moveDown();
      	});

      	$(".up-arrow").click(function(){

      		$(".main").moveUp();
      	});

      	$( "button[name='begin']" ).click(function() {
      		$(".main").moveDown();
      	});


        // var choices = {"Name":"","Rec":0,"Math":0,"Func":0,"Social":0,"Access":0,"Comm":0,"Lang":0,"Organizer":0,"Creative":0,"Behavioral":0,"Edu":0,"iPhTo":0,"iPad":0,"Android":0,"W8":0,"WPh":0,"AgeAll":0,"Pre":0,"Child":0,"Teen":0,"Adults":0,"Price":0.00,"Stars":0,"Links":""};

        // CURRENT SELECTION STATE

        var skills = [];
        var ages = [];
        var minPrice = 0.0;
        var maxPrice = 300.00;
        var rating = 0;
        var platforms = [];

        function remove(arr, el)
    	{
    		for(var i = arr.length - 1; i >= 0; i--) {
    			if(arr[i] == el) {
    				arr.splice(i, 1);
    			}
    		}
    	}

        function toggleImage(containerElem) {
	        //toggle the checkbox value
	        // nothingChanged = false;

	        var checkBox = containerElem.getElementsByClassName("imageCheckbox");

	        checkBox.checked = ! checkBox.checked;

	          //update the image styles

	        var key = $(checkBox).attr('name');
	        var image = containerElem.getElementsByClassName("toggleImage")[0];
			var highlight =  $(checkBox).attr('highlight');

			// console.log(highlight);
	  		if (checkBox.checked) {
	  			switch(highlight){
	  				case 'age': image.style.opacity = 1; image.setAttribute("sel", "true"); ages.push(key); break;
	  				case 'categories': image.style.background="#A6A4A5"; skills.push(key); break;
	  				case 'devices': image.style.background="gray"; platforms.push(key); break;
	  				// case 'stars': 

	  				// //if the star clicked is the one
	  				// var selected = $(image).attr('sel')
	  				// if(!isSelected()) {
	  				// 	rating = $(image).attr('number');
	  				// 	image.setAttribute("sel", "true");
	  				// 	showStars(image);

	  				// }
	  				
	  			}
	  		} else {
	  			switch(highlight){
	  				case 'age': image.style.opacity = 0;image.setAttribute("sel", "false"); remove(ages, key); break;
	  				case 'categories': image.style.background="none"; remove(skills, key); break;
	  				case 'devices': image.style.background="none"; remove(platforms, key); break;
	  				// case 'stars' : image.setAttribute("sel", "false"); hideStars(image); 
	  				// 	if(!isSelected()) rating = 0; 
	  				// 	break;
	  			}

	  		}
    	}


        
        function isSelected(){

         	for (i = 1; i <= 5; i++){

        		elem_id = "#star" + i;
        		elem_half_id = i==1 ?  "#starhalf" : "#star" + (i-1) + "half";

        		starA = $(elem_id).attr('sel');
        		starB = $(elem_half_id).attr('sel'); 
        		

        		if (starA == "true" || starB == "true"){
        			return true;
        		}
        		

        	}
        	return false;
        }

        //Functions for Age and Price Sections
		function showSelected(image) {
          image.style.opacity=1;
        }

        function hideSelected(image) {
          var isSelected = $(image).attr('sel');
          // alert(isSelected);
          if (isSelected== 'false'){
            image.style.opacity=0;
          }
        }

        //Functions for star section
        function showStars(image) {
        	var id = $(image).attr('id');
        	// alert("here");
        	var click_selected = $(image).attr('sel');
            if (!isSelected() || click_selected == "true"){
        
	           	switch(id){
	              case 'star5':$('#star5').css("opacity", "1"); 

	              case 'star4half':$('#star4half').css("opacity", "1");

	              case 'star4':$('#star4').css("opacity", "1");
	              case 'star3half':$('#star3half').css("opacity", "1");
	              case 'star3':$('#star3').css("opacity", "1");
	              case 'star2half':$('#star2half').css("opacity", "1");
	              case 'star2':$('#star2').css("opacity", "1");
	              case 'star1half':$('#star1half').css("opacity", "1");
	              case 'star1':$('#star1').css("opacity", "1");
	              case 'starhalf':$('#starhalf').css("opacity", "1");break;
            	}
            	image.style.opacity=1;
         	}
          
        }

        function hideStars(image, hideAll) {
          
          if (!isSelected()){
            var id = hideAll ? 'star5' : $(image).attr('id');
          


            image.style.opacity=0;
            switch(id){
              case 'star5':$('#star5').css("opacity", "0");
              case 'star4half':$('#star4half').css("opacity", "0");

	          case 'star4':$('#star4').css("opacity", "0");
              case 'star3half':$('#star3half').css("opacity", "0");
              case 'star3':$('#star3').css("opacity", "0");
              case 'star2half':$('#star2half').css("opacity", "0");
              case 'star2':$('#star2').css("opacity", "0");
              case 'star1half':$('#star1half').css("opacity", "0");
              case 'star1':$('#star1').css("opacity", "0");
              case 'starhalf':$('#starhalf').css("opacity", "0");break;
            }
          }
        }

        function selectStar(image) {
        	

        	// //if the star clicked is the one
	  		var selected = $(image).attr('sel')
	  		if(!isSelected()) {
	  			if(selected == "false") {
	  				//alert("here");
	  				rating = $(image).attr('number');
	  				image.setAttribute("sel", "true");
	  				showStars(image);
	  				
	  			}
	  			

	  		}
	  		else{
  				rating=0;
  				deselectAll();
  				hideStars(image, true);
	  		}
	  		
	  		 
        }
        function deselectAll(){
        	for (i = 1; i <= 5; i++){

        		elem_id = "star" + i;
        		elem_half_id = i==1 ?  "starhalf" : "star" + (i-1) + "half";


        		// console.log(elem_id);
        		// console.log(elem_half_id);

        		starA  = document.getElementById(elem_id);
        		starB = document.getElementById(elem_half_id);

        		starA.setAttribute("sel", "false");
        		starB.setAttribute("sel", "false");

        	}

        }
		
		$("button[name='results']").click(function()
		{
			updateResults();
			$(".onepage-pagination li a").hide();
			$(".main").moveDown();
		});

		$("button[name='back']").click(function()
		{
			$(".onepage-pagination li a").show();
			$(".main").moveUp();
		});


	</script>
	<script src = "search.js"></script>
</div>
</div>

</body>
</html>
